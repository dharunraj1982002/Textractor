{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\reactfileupload\\\\uploadpage\\\\src\\\\Homepagefire.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/storage\";\nimport { v4 } from \"uuid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Homepagefire() {\n  _s();\n  const [imageUpload, setImageUpload] = useState(null);\n  const [imageUrl, setImageUrl] = useState(null);\n  const storageRef = firebase.storage().ref();\n  const uploadImage = () => {\n    if (imageUpload == null) return;\n    const imageRef = storageRef.child(`images/${imageUpload.name + v4()}`);\n    const uploadTask = imageRef.put(imageUpload);\n    uploadTask.on(\"state_changed\", snapshot => {\n      // Handle progress updates\n    }, error => {\n      // Handle errors\n    }, async () => {\n      const url = await imageRef.getDownloadURL();\n      setImageUrl(url);\n    });\n  };\n  const onFileChange = event => {\n    setImageUpload(event.target.files[0]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: onFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: uploadImage,\n      children: \"Upload Image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: imageUrl,\n      alt: \"uploaded image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(Homepagefire, \"ZIf691ZSFkAHWH9HOXAG2xGZHfQ=\");\n_c = Homepagefire;\nexport default Homepagefire;\nvar _c;\n$RefreshReg$(_c, \"Homepagefire\");","map":{"version":3,"names":["useEffect","useState","firebase","v4","Homepagefire","imageUpload","setImageUpload","imageUrl","setImageUrl","storageRef","storage","ref","uploadImage","imageRef","child","name","uploadTask","put","on","snapshot","error","url","getDownloadURL","onFileChange","event","target","files"],"sources":["C:/Users/DELL/OneDrive/Desktop/reactfileupload/uploadpage/src/Homepagefire.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/storage\";\r\nimport { v4 } from \"uuid\";\r\n\r\nfunction Homepagefire() {\r\n  const [imageUpload, setImageUpload] = useState(null);\r\n  const [imageUrl, setImageUrl] = useState(null);\r\n\r\n  const storageRef = firebase.storage().ref();\r\n\r\n  const uploadImage = () => {\r\n    if (imageUpload == null) return;\r\n    const imageRef = storageRef.child(`images/${imageUpload.name + v4()}`);\r\n    const uploadTask = imageRef.put(imageUpload);\r\n\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapshot) => {\r\n        // Handle progress updates\r\n      },\r\n      (error) => {\r\n        // Handle errors\r\n      },\r\n      async () => {\r\n        const url = await imageRef.getDownloadURL();\r\n        setImageUrl(url);\r\n      }\r\n    );\r\n  };\r\n\r\n  const onFileChange = (event) => {\r\n    setImageUpload(event.target.files[0]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <input type=\"file\" onChange={onFileChange} />\r\n      <button onClick={uploadImage}>Upload Image</button>\r\n      <img src={imageUrl} alt=\"uploaded image\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Homepagefire;\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,QAAQ,MAAM,cAAc;AACnC,OAAO,kBAAkB;AACzB,SAASC,EAAE,QAAQ,MAAM;AAAC;AAE1B,SAASC,YAAY,GAAG;EAAA;EACtB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAE9C,MAAMQ,UAAU,GAAGP,QAAQ,CAACQ,OAAO,EAAE,CAACC,GAAG,EAAE;EAE3C,MAAMC,WAAW,GAAG,MAAM;IACxB,IAAIP,WAAW,IAAI,IAAI,EAAE;IACzB,MAAMQ,QAAQ,GAAGJ,UAAU,CAACK,KAAK,CAAE,UAAST,WAAW,CAACU,IAAI,GAAGZ,EAAE,EAAG,EAAC,CAAC;IACtE,MAAMa,UAAU,GAAGH,QAAQ,CAACI,GAAG,CAACZ,WAAW,CAAC;IAE5CW,UAAU,CAACE,EAAE,CACX,eAAe,EACdC,QAAQ,IAAK;MACZ;IAAA,CACD,EACAC,KAAK,IAAK;MACT;IAAA,CACD,EACD,YAAY;MACV,MAAMC,GAAG,GAAG,MAAMR,QAAQ,CAACS,cAAc,EAAE;MAC3Cd,WAAW,CAACa,GAAG,CAAC;IAClB,CAAC,CACF;EACH,CAAC;EAED,MAAME,YAAY,GAAIC,KAAK,IAAK;IAC9BlB,cAAc,CAACkB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;EACvC,CAAC;EAED,oBACE;IAAK,SAAS,EAAC,KAAK;IAAA,wBAClB;MAAO,IAAI,EAAC,MAAM;MAAC,QAAQ,EAAEH;IAAa;MAAA;MAAA;MAAA;IAAA,QAAG,eAC7C;MAAQ,OAAO,EAAEX,WAAY;MAAA,UAAC;IAAY;MAAA;MAAA;MAAA;IAAA,QAAS,eACnD;MAAK,GAAG,EAAEL,QAAS;MAAC,GAAG,EAAC;IAAgB;MAAA;MAAA;MAAA;IAAA,QAAG;EAAA;IAAA;IAAA;IAAA;EAAA,QACvC;AAEV;AAAC,GArCQH,YAAY;AAAA,KAAZA,YAAY;AAuCrB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}