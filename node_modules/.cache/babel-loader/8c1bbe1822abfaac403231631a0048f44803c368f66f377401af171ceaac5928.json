{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DELL/OneDrive/Desktop/Textractor/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DELL/OneDrive/Desktop/Textractor/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/DELL/OneDrive/Desktop/Textractor/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{storage}from\"./firebase-config\";import{ref,uploadBytes,getDownloadURL}from\"firebase/storage\";import{createWorker}from'tesseract.js';import FileUploadOutlinedIcon from'@mui/icons-material/FileUploadOutlined';import'./Homepagefire.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Homepagefire(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),imageUpload=_useState2[0],setImageUpload=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),imageUrl=_useState4[0],setImageUrl=_useState4[1];var _useState5=useState(' '),_useState6=_slicedToArray(_useState5,2),stringValue=_useState6[0],setStringValue=_useState6[1];var imageRef=\"\";var uploadImage=function uploadImage(){if(imageUpload==null)return;imageRef=ref(storage,\"images/\".concat(imageUpload.name));uploadBytes(imageRef,imageUpload).then(function(snapshot){alert(\"Image uploaded Successfully\");getDownloadURL(snapshot.ref).then(function(url){setImageUrl(url);});});};var imageToText=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var worker,_yield$worker$recogni,text;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setStringValue('');worker=createWorker({logger:function logger(m){return console.log(m);}});_context.next=4;return worker.load();case 4:_context.next=6;return worker.loadLanguage('eng');case 6:_context.next=8;return worker.initialize('eng');case 8:_context.next=10;return worker.recognize(imageUrl);case 10:_yield$worker$recogni=_context.sent;text=_yield$worker$recogni.data.text;setStringValue(text);case 13:case\"end\":return _context.stop();}},_callee);}));return function imageToText(){return _ref.apply(this,arguments);};}();var onFileChange=function onFileChange(event){setImageUpload(event.target.files[0]);};return/*#__PURE__*/_jsxs(\"body\",{children:[/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"message\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:onFileChange}),/*#__PURE__*/_jsx(FileUploadOutlinedIcon,{className:\"svg_home\",onClick:uploadImage}),imageUrl&&/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:\"\",height:\"50%\",width:\"60%\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:imageToText,children:\"Generate text\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"textbox\",children:stringValue===\"\"?/*#__PURE__*/_jsx(\"div\",{className:\"loader align-self-center\"}):/*#__PURE__*/_jsx(\"div\",{classname:\"textbox\",children:/*#__PURE__*/_jsx(\"h2\",{children:stringValue})})})]});}export default Homepagefire;","map":{"version":3,"names":["useState","storage","ref","uploadBytes","getDownloadURL","createWorker","FileUploadOutlinedIcon","Homepagefire","imageUpload","setImageUpload","imageUrl","setImageUrl","stringValue","setStringValue","imageRef","uploadImage","name","then","snapshot","alert","url","imageToText","worker","logger","m","console","log","load","loadLanguage","initialize","recognize","text","data","onFileChange","event","target","files"],"sources":["C:/Users/DELL/OneDrive/Desktop/Textractor/src/Homepagefire.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport {storage} from \"./firebase-config\"\r\nimport { ref,uploadBytes,getDownloadURL} from \"firebase/storage\";\r\nimport {createWorker} from 'tesseract.js';\r\nimport FileUploadOutlinedIcon from '@mui/icons-material/FileUploadOutlined';\r\nimport './Homepagefire.css';\r\n\r\n\r\nfunction Homepagefire() {\r\n    const[imageUpload,setImageUpload]=useState(null);\r\n    const [imageUrl, setImageUrl] = useState(null);\r\n    const [stringValue, setStringValue] = useState(' ');\r\n    \r\n    var imageRef=\"\";\r\n    const uploadImage=()=>{\r\n        if(imageUpload==null) \r\n            return; \r\n        imageRef=ref(storage, `images/${imageUpload.name}`);\r\n        uploadBytes(imageRef,imageUpload).then((snapshot)=>{\r\n            alert(\"Image uploaded Successfully\");\r\n            getDownloadURL(snapshot.ref).then((url) => {\r\n                setImageUrl(url);\r\n                \r\n                \r\n              });\r\n        });    \r\n    };\r\n\r\n    const imageToText=async()=>{\r\n        setStringValue('');\r\n        const worker = createWorker({\r\n            logger: m => console.log(m),\r\n          });\r\n\r\n          \r\n            await worker.load();\r\n            await worker.loadLanguage('eng');\r\n            await worker.initialize('eng');\r\n            const { data: { text } } = await worker.recognize(imageUrl);\r\n            setStringValue(text);    \r\n    }\r\n\r\n    const onFileChange = (event) => {\r\n        setImageUpload(event.target.files[0]);\r\n      };\r\n\r\n    return(\r\n        <body>\r\n    <section>\r\n        \r\n                <div className=\"message\">\r\n                    <input type=\"file\" onChange={onFileChange} />\r\n                    <FileUploadOutlinedIcon className=\"svg_home\" onClick={uploadImage}/> \r\n                    {imageUrl&&<img src={imageUrl} alt=\"\" height=\"50%\" width=\"60%\"/>}\r\n                \r\n                <br/>\r\n                <button onClick={imageToText}>Generate text</button>\r\n                </div>\r\n                </section>\r\n                <div className=\"textbox\">\r\n                {\r\n                    stringValue===\"\" ? \r\n                        <div className=\"loader align-self-center\" ></div>\r\n                        :\r\n                        <div classname=\"textbox\">\r\n                            <h2>{stringValue}</h2>\r\n                        </div>\r\n                }\r\n            </div>              \r\n            </body>\r\n            \r\n        \r\n  \r\n    )   \r\n}\r\n\r\nexport default Homepagefire;"],"mappings":"6YAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAAQC,OAAO,KAAO,mBAAmB,CACzC,OAASC,GAAG,CAACC,WAAW,CAACC,cAAc,KAAO,kBAAkB,CAChE,OAAQC,YAAY,KAAO,cAAc,CACzC,MAAOC,uBAAsB,KAAM,wCAAwC,CAC3E,MAAO,oBAAoB,CAAC,wFAG5B,QAASC,aAAY,EAAG,CACpB,cAAkCP,QAAQ,CAAC,IAAI,CAAC,wCAA1CQ,WAAW,eAACC,cAAc,eAChC,eAAgCT,QAAQ,CAAC,IAAI,CAAC,yCAAvCU,QAAQ,eAAEC,WAAW,eAC5B,eAAsCX,QAAQ,CAAC,GAAG,CAAC,yCAA5CY,WAAW,eAAEC,cAAc,eAElC,GAAIC,SAAQ,CAAC,EAAE,CACf,GAAMC,YAAW,CAAC,QAAZA,YAAW,EAAK,CAClB,GAAGP,WAAW,EAAE,IAAI,CAChB,OACJM,QAAQ,CAACZ,GAAG,CAACD,OAAO,kBAAYO,WAAW,CAACQ,IAAI,EAAG,CACnDb,WAAW,CAACW,QAAQ,CAACN,WAAW,CAAC,CAACS,IAAI,CAAC,SAACC,QAAQ,CAAG,CAC/CC,KAAK,CAAC,6BAA6B,CAAC,CACpCf,cAAc,CAACc,QAAQ,CAAChB,GAAG,CAAC,CAACe,IAAI,CAAC,SAACG,GAAG,CAAK,CACvCT,WAAW,CAACS,GAAG,CAAC,CAGlB,CAAC,CAAC,CACR,CAAC,CAAC,CACN,CAAC,CAED,GAAMC,YAAW,4FAAC,0KACdR,cAAc,CAAC,EAAE,CAAC,CACZS,MAAM,CAAGjB,YAAY,CAAC,CACxBkB,MAAM,CAAE,gBAAAC,CAAC,QAAIC,QAAO,CAACC,GAAG,CAACF,CAAC,CAAC,EAC7B,CAAC,CAAC,uBAGMF,OAAM,CAACK,IAAI,EAAE,8BACbL,OAAM,CAACM,YAAY,CAAC,KAAK,CAAC,8BAC1BN,OAAM,CAACO,UAAU,CAAC,KAAK,CAAC,+BACGP,OAAM,CAACQ,SAAS,CAACpB,QAAQ,CAAC,6CAA3CqB,IAAI,uBAAZC,IAAI,CAAID,IAAI,CACpBlB,cAAc,CAACkB,IAAI,CAAC,CAAC,sDAC5B,kBAZKV,YAAW,0CAYhB,CAED,GAAMY,aAAY,CAAG,QAAfA,aAAY,CAAIC,KAAK,CAAK,CAC5BzB,cAAc,CAACyB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACvC,CAAC,CAEH,mBACI,qCACJ,sCAEY,aAAK,SAAS,CAAC,SAAS,wBACpB,cAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAEH,YAAa,EAAG,cAC7C,KAAC,sBAAsB,EAAC,SAAS,CAAC,UAAU,CAAC,OAAO,CAAElB,WAAY,EAAE,CACnEL,QAAQ,eAAE,YAAK,GAAG,CAAEA,QAAS,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,cAEpE,aAAK,cACL,eAAQ,OAAO,CAAEW,WAAY,UAAC,eAAa,EAAS,GAC9C,EACI,cACV,YAAK,SAAS,CAAC,SAAS,UAEpBT,WAAW,GAAG,EAAE,cACZ,YAAK,SAAS,CAAC,0BAA0B,EAAQ,cAEjD,YAAK,SAAS,CAAC,SAAS,uBACpB,oBAAKA,WAAW,EAAM,EACpB,EAEZ,GACC,CAKnB,CAEA,cAAeL,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}